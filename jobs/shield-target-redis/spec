---
name: shield-target-redis
packages: []

templates:
  bin/ctl:                  bin/ctl
  bin/monit_debugger:       bin/monit_debugger
  bin/post-start:           bin/post-start
  helpers/ctl_setup.sh:     helpers/ctl_setup.sh
  helpers/ctl_utils.sh:     helpers/ctl_utils.sh

consumes:
- name: shield-daemon
  type: shield-daemon
- name: redis
  type: redis
  optional: true

properties:
  base_dir:
    description: Base dir for storing database files (value always fetched from link('redis').p('base_dir') if available)
    default: /var/vcap/store/redis
  job.store:
    description: Configure SHIELD job with this store name
    default: default
  job.retention-policy:
    description: Configure SHIELD job with this policy name
    default: default
  job.schedule:
    description: Configure SHIELD job with this schedule name
    default: default

  log_level:
    description: "Log level for shield processes"
    default: "info"
